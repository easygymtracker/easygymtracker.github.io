<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="720" viewBox="0 0 1200 720">
  <defs>
    <style>
      .box { fill: #ffffff; stroke: #111827; stroke-width: 2; rx: 10; ry: 10; }
      .title { font: 700 18px system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111827; }
      .text { font: 14px system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111827; }
      .muted { fill: #374151; font: 13px system-ui, -apple-system, Segoe UI, Roboto, Arial; }
      .arrow { stroke: #111827; stroke-width: 2.2; fill: none; marker-end: url(#arrowHead); }
      .dashed { stroke-dasharray: 6 6; }
      .label { font: 12px system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #374151; }
    </style>

    <marker id="arrowHead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L9,3 L0,6 Z" fill="#111827"></path>
    </marker>
  </defs>

  <!-- Exercise -->
  <rect class="box" x="70" y="70" width="320" height="150"/>
  <text class="title" x="90" y="105">Exercise</text>
  <text class="text" x="90" y="135">id</text>
  <text class="text" x="90" y="160">description</text>
  <text class="muted" x="90" y="195">Only shared entity</text>

  <!-- Routine -->
  <rect class="box" x="470" y="50" width="360" height="200"/>
  <text class="title" x="490" y="85">Routine</text>
  <text class="text" x="490" y="115">id</text>
  <text class="text" x="490" y="140">description</text>
  <text class="text" x="490" y="165">series: SetSeries[]</text>
  <text class="muted" x="490" y="200">(ordered sequence)</text>

  <!-- SetSeries -->
  <rect class="box" x="470" y="300" width="360" height="210"/>
  <text class="title" x="490" y="335">SetSeries (Series)</text>
  <text class="text" x="490" y="365">id</text>
  <text class="text" x="490" y="390">description</text>
  <text class="text" x="490" y="415">exerciseId → Exercise.id</text>
  <text class="text" x="490" y="440">repGroups: RepGroup[]</text>
  <text class="text" x="490" y="465">restSecondsAfter</text>
  <text class="muted" x="490" y="495">(rest after finishing this SetSeries)</text>

  <!-- RepGroup -->
  <rect class="box" x="890" y="300" width="290" height="250"/>
  <text class="title" x="910" y="335">RepGroup</text>
  <text class="text" x="910" y="365">id</text>
  <text class="text" x="910" y="390">exerciseId → Exercise.id</text>
  <text class="text" x="910" y="415">laterality (uni/bi)</text>
  <text class="text" x="910" y="440">targetReps? (int | {left,right}) / targetWeight?</text>
  <text class="text" x="910" y="465">restSecondsAfter</text>
  <text class="text" x="910" y="490">history: RepGroupHistoryEntry[]</text>
  <text class="muted" x="910" y="520">(rest after finishing this RepGroup)</text>

  <!-- RepGroupHistoryEntry -->
  <rect class="box" x="890" y="590" width="290" height="120"/>
  <text class="title" x="910" y="625">RepGroupHistoryEntry</text>
  <text class="text" x="910" y="650">dateTime (ISO 8601 key)</text>
  <text class="text" x="910" y="675">reps: int | {left,right}</text>
  <text class="text" x="910" y="700">weight: null | number | {left,right}</text>

  <!-- Ownership arrows (solid) -->
  <!-- Routine owns SetSeries -->
  <path class="arrow" d="M650 250 L650 300"/>
  <text class="label" x="665" y="280">owns</text>

  <!-- SetSeries owns RepGroup -->
  <path class="arrow" d="M830 420 L890 420"/>
  <text class="label" x="845" y="410">owns</text>

  <!-- RepGroup owns HistoryEntry -->
  <path class="arrow" d="M1035 550 L1035 590"/>
  <text class="label" x="1050" y="575">owns</text>

  <!-- Reference arrows to Exercise (dashed) -->
  <!-- SetSeries.exerciseId -> Exercise -->
  <path class="arrow dashed" d="M470 415 C330 415, 320 220, 390 160"/>
  <text class="label" x="300" y="385">references by exerciseId</text>

  <!-- RepGroup.exerciseId -> Exercise -->
  <path class="arrow dashed" d="M890 390 C720 390, 420 250, 390 160"/>
  <text class="label" x="720" y="365">references by exerciseId</text>

  <!-- Legend -->
  <rect class="box" x="70" y="270" width="320" height="170"/>
  <text class="title" x="90" y="305">Legend</text>

  <line x1="90" y1="330" x2="210" y2="330" class="arrow"/>
  <text class="text" x="225" y="335">owns (composition)</text>

  <line x1="90" y1="365" x2="210" y2="365" class="arrow dashed"/>
  <text class="text" x="225" y="370">references (by id)</text>

  <text class="muted" x="90" y="415">RepGroup is owned by a routine (not shared across routines).</text>
</svg>